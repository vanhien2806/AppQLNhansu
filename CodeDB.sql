USE DOANHNGHIEP
GO
CREATE TABLE USERS
(
	ID INT PRIMARY KEY IDENTITY(1,1),
	USERNAME NVARCHAR(50) ,
	PASSWORD NVARCHAR(50)

)
GO

CREATE TABLE PHONGBAN
(
	MAPB VARCHAR(10) PRIMARY KEY,
	TENPB NVARCHAR(50),
	MOTA NVARCHAR(50)
)
GO


CREATE TABLE NHANVIEN
(
	MANV VARCHAR(10) PRIMARY KEY,
	TENNV NVARCHAR(50),
	GIOITINH VARCHAR(10),
	DIACHI NVARCHAR(50),
	SDT VARCHAR(10),
	EMAIL NVARCHAR(50),
	MAPB VARCHAR(10),
	FOREIGN KEY (MAPB) REFERENCES PHONGBAN(MAPB)
)
GO

CREATE TABLE LUONG
(
	MALUONG VARCHAR(10) PRIMARY KEY,
	MANV VARCHAR(10),
	SOLUONG INT,
	NGAYNHAN SMALLDATETIME,
	FOREIGN KEY (MANV) REFERENCES NHANVIEN(MANV)

)
GO

CREATE TABLE HDLD 
(
	MAHD VARCHAR(10) PRIMARY KEY,
	MANV VARCHAR(10),
	NGAYBD SMALLDATETIME,
	NGAYKT SMALLDATETIME,
	LOAIHD VARCHAR(10),
	FOREIGN KEY (MANV) REFERENCES NHANVIEN(MANV)
)
GO

CREATE TABLE NGHIPHEP
(
	MANP VARCHAR(10) PRIMARY KEY,
	MANV VARCHAR(10),
	LOAINGHI VARCHAR(10),
	NGAYBDN SMALLDATETIME,
	NGAYKTN SMALLDATETIME,
	FOREIGN KEY (MANV) REFERENCES NHANVIEN(MANV)
)
GO

CREATE TABLE TUYENDUNG
(
	MATD VARCHAR(10) PRIMARY KEY,
	MAVTCV VARCHAR(10),
	TENUV NVARCHAR(50),
	NGAYNOPDON SMALLDATETIME,
	NGAYPHONGVAN SMALLDATETIME
)
GO

CREATE TABLE KYLUAT
(
	MAKYLUAT VARCHAR(10) PRIMARY KEY,
	MANV VARCHAR(10),
	NGAYSK SMALLDATETIME,
	MOTA NVARCHAR(50),
	FOREIGN KEY (MANV) REFERENCES NHANVIEN(MANV)
)
GO

CREATE TABLE DAOTAO
(
	MADAOTAO VARCHAR(10) PRIMARY KEY,
	MANV VARCHAR(10),
	TENDAOTAO NVARCHAR(50),
	NGAYDAOTAO SMALLDATETIME,
	FOREIGN KEY (MANV) REFERENCES NHANVIEN(MANV)
)
GO


-- Thêm dữ liệu vào bảng USERS
INSERT INTO USERS (USERNAME, PASSWORD) 
VALUES ('user1', 'password1'),
       ('user2', 'password2'),
       ('user3', 'password3');

-- Thêm dữ liệu vào bảng PHONGBAN
INSERT INTO PHONGBAN (MAPB, TENPB, MOTA) 
VALUES ('PB001', N'Phòng Kế Toán', N'Mô tả cho Phòng Kế Toán'),
       ('PB002', N'Phòng Nhân Sự', N'Mô tả cho Phòng Nhân Sự'),
       ('PB003', N'Phòng Kinh Doanh', N'Mô tả cho Phòng Kinh Doanh');

-- Thêm dữ liệu vào bảng NHANVIEN
INSERT INTO NHANVIEN (MANV, TENNV, GIOITINH, DIACHI, SDT, EMAIL, MAPB) 
VALUES ('NV001', N'Nguyễn Văn A', 'Nam', N'Địa chỉ A', '0123456789', 'nvana@example.com', 'PB001'),
       ('NV002', N'Trần Thị B', 'Nữ', N'Địa chỉ B', '0987654321', 'ttb@example.com', 'PB002'),
       ('NV003', N'Lê Văn C', 'Nam', N'Địa chỉ C', '0369852147', 'lvc@example.com', 'PB003');

-- Thêm dữ liệu vào bảng LUONG
INSERT INTO LUONG (MALUONG, MANV, SOLUONG, NGAYNHAN) 
VALUES ('L001', 'NV001', 10000000, '2023-01-01'),
       ('L002', 'NV002', 12000000, '2023-01-01'),
       ('L003', 'NV003', 9000000, '2023-01-01');

-- Thêm dữ liệu vào bảng HDLD
INSERT INTO HDLD (MAHD, MANV, NGAYBD, NGAYKT, LOAIHD) 
VALUES ('HD001', 'NV001', '2023-01-01', '2023-12-31', 'Hợp đồng 1 năm'),
       ('HD002', 'NV002', '2023-01-01', '2023-12-31', 'Hợp đồng 1 năm'),
       ('HD003', 'NV003', '2023-01-01', '2023-12-31', 'Hợp đồng 1 năm');

-- Thêm dữ liệu vào bảng NGHIPHEP
INSERT INTO NGHIPHEP (MANP, MANV, LOAINGHI, NGAYBDN, NGAYKTN) 
VALUES ('NP001', 'NV001', 'Nghỉ phép năm', '2023-07-01', '2023-07-05'),
       ('NP002', 'NV002', 'Nghỉ ốm', '2023-08-10', '2023-08-12'),
       ('NP003', 'NV003', 'Nghỉ thai sản', '2023-09-20', '2024-03-20');

-- Thêm dữ liệu vào bảng TUYENDUNG
INSERT INTO TUYENDUNG (MATD, MAVTCV, TENUV, NGAYNOPDON, NGAYPHONGVAN) 
VALUES ('TD001', 'VTCV001', N'Nguyễn Thị D', '2023-01-15', '2023-01-20'),
       ('TD002', 'VTCV002', N'Trần Văn E', '2023-02-10', '2023-02-15'),
       ('TD003', 'VTCV003', N'Phạm Thị F', '2023-03-20', '2023-03-25');

-- Thêm dữ liệu vào bảng KYLUAT
INSERT INTO KYLUAT (MAKYLUAT, MANV, NGAYSK, MOTA) 
VALUES ('KL001', 'NV001', '2023-06-01', N'Vi phạm nội quy công ty'),
       ('KL002', 'NV002', '2023-07-05', N'Chậm trễ nhiều ngày không lý do'),
       ('KL003', 'NV003', '2023-08-10', N'Vi phạm quy định của công ty');

-- Thêm dữ liệu vào bảng DAOTAO
INSERT INTO DAOTAO (MADAOTAO, MANV, TENDAOTAO, NGAYDAOTAO) 
VALUES ('DT001', 'NV001', N'Kỹ năng giao tiếp', '2023-04-10'),
       ('DT002', 'NV002', N'Quản lý thời gian', '2023-05-15'),
       ('DT003', 'NV003', N'Kỹ năng làm việc nhóm', '2023-06-20');
